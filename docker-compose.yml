# ══════════════════════════════════════════════════════════════
#                    DevDocs MCP Server
#                    Docker Compose
# ══════════════════════════════════════════════════════════════

services:
  devdocs-mcp:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: devdocs-mcp-server
    
    # El MCP usa stdio, necesita stdin_open y tty
    stdin_open: true
    tty: true
    
    # Persistir el caché de documentación
    volumes:
      - devdocs-cache:/root/.cache/devdocs-mcp
    
    # Reiniciar automáticamente si falla
    restart: unless-stopped
    
    # Límites de recursos (opcional)
    deploy:
      resources:
        limits:
          memory: 512M
        reservations:
          memory: 128M

volumes:
  devdocs-cache:
    name: devdocs-mcp-cache
